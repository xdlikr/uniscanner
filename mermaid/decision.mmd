graph LR
    Signals[âš–ï¸ Signal Generator<br/>Buy/Hold/Sell ä¿¡å·]
    PB[Portfolio Builder<br/>ç›®æ ‡ä»“ä½è®¡ç®—]
    RM[ğŸ›¡ï¸ Risk Manager<br/>åº”ç”¨å®ªæ³•é£é™©çº¦æŸ]
    OG[Order Generator<br/>è®¢å•ç”Ÿæˆ]
    EC[Execution Checker<br/>æ‰§è¡Œè§„åˆ™æ£€æŸ¥]
    API[Broker API<br/>åˆ¸å•†æ¥å£]

    CONST[ğŸ§¾ Constitution.yaml<br/>é£é™©/æƒé™/å›æ’¤è§„åˆ™]

    Signals --> PB --> RM --> OG --> EC --> API

    CONST --> RM
    CONST --> EC

    subgraph Decisions[å†³ç­–è·¯å¾„]
        Signals --> PB --> RM
    end

    subgraph RiskControls[é£é™©æ§åˆ¶ç‚¹]
        RM:::risk
        EC:::risk
    end

    classDef risk fill=#ffeeee,stroke=#cc0000,stroke-width=2px;

    RM -->|æ‹’ç» / è£å‰ªä»“ä½| OG
    EC -->|æ‹’ç»è®¢å• / è§¦å‘åœæœº| API